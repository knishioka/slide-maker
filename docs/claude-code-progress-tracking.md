# Claude Code開発時の進捗可視化システム

## 📋 概要

Claude Codeで開発作業を行う際に、**現在何をしているのか**、**どこまで進んでいるのか**、**何が残っているのか**を明確に把握するためのシステムです。

## 🎯 システムの目的

### 開発者の課題
- **途中参入時の混乱**: 開発の途中から見ても何をやっているかわからない
- **進捗の不透明性**: どこまで完了して何が残っているか不明
- **タスク完了の見落とし**: 重要な作業が抜け落ちるリスク
- **レビュー時の困難**: コードレビュー時に開発意図が不明

### 解決策
- **リアルタイム進捗表示**: 開発中に常に現在の状況を表示
- **サブタスクチェックリスト**: 細かい作業単位での進捗管理
- **コンテキスト保持**: 開発の背景と目的を常に明示
- **完了確認機能**: 重要なタスクの見落とし防止

## 🔧 実装方法

### 1. サブタスク管理テンプレート

#### タスク開始時のテンプレート
```markdown
## 🚧 開発中: [TASK-XXX] [タスク名]

### 📝 タスク概要
- **目的**: [何を実現するためのタスクか]
- **影響範囲**: [変更するファイル・機能]
- **期限**: [想定完了時期]

### 📋 実装計画
- [ ] **調査フェーズ**
  - [ ] 既存コード分析 (src/services/, src/utils/)
  - [ ] 依存関係確認
  - [ ] API仕様確認
- [ ] **設計フェーズ**
  - [ ] アーキテクチャ設計
  - [ ] インターフェース定義
  - [ ] データフロー設計
- [ ] **実装フェーズ**
  - [ ] コア機能実装
  - [ ] エラーハンドリング
  - [ ] ログ・監視実装
- [ ] **テストフェーズ**
  - [ ] ユニットテスト作成
  - [ ] 統合テスト実行
  - [ ] 手動テスト実施
- [ ] **品質保証フェーズ**
  - [ ] コードレビュー準備
  - [ ] ドキュメント更新
  - [ ] パフォーマンステスト

### 🎯 完了定義 (Definition of Done)
- [ ] 機能要件をすべて満たしている
- [ ] ユニットテストカバレッジ80%以上
- [ ] 統合テストが全て通過
- [ ] ESLint警告0件
- [ ] ドキュメント更新完了
- [ ] コードレビュー承認済み
- [ ] TASKS.mdステータス更新完了

### 📊 現在の進捗: XX% (X/Y完了)
```

### 2. 進捗追跡メソッド

#### 開発開始時
```markdown
## 🚀 [TASK-XXX] 開発開始

**開発対象**: [機能名]
**担当者**: [Developer Name] 
**開始時刻**: [YYYY-MM-DD HH:MM]
**予想所要時間**: [X時間]

### 📋 今回のセッションで実装予定
1. [ ] [具体的な実装項目1]
2. [ ] [具体的な実装項目2]
3. [ ] [具体的な実装項目3]

### 🔗 関連リソース
- **TASKS.md**: Line XXX
- **技術仕様**: docs/technical-spec.md
- **関連Issue**: #XXX
```

#### 開発中の定期更新
```markdown
## 📈 [TASK-XXX] 進捗更新 - [現在時刻]

### ✅ 完了した作業
- [x] [実装項目1] - [完了時刻]
- [x] [実装項目2] - [完了時刻]

### 🚧 現在作業中
- [ ] [現在の作業内容]

### 📋 次に予定している作業
- [ ] [次の作業項目1]
- [ ] [次の作業項目2]

### 🔍 発見した課題・改善点
- [課題1]: [対応方針]
- [課題2]: [対応方針]

### 📊 進捗率: XX% (前回から+YY%)
```

#### セッション終了時
```markdown
## 🎯 [TASK-XXX] セッション完了報告

### ✅ 本セッションの成果
- [x] [完了項目1]
- [x] [完了項目2]
- [x] [完了項目3]

### 📋 残作業
- [ ] [未完了項目1] - 推定XX分
- [ ] [未完了項目2] - 推定XX分

### 🔄 次回セッションの準備
- **優先作業**: [次回最初に取り組む作業]
- **準備事項**: [事前に確認・準備すべきこと]
- **ブロッカー**: [作業を進める上での障害]

### 📊 全体進捗: XX% (推定残り時間: XX時間)

---
**🔔 タスク完了確認**
- [ ] ✅ [TASK-XXX] の完了をTASKS.mdで確認
- [ ] 🧹 Worktreeクリーンアップ実施
- [ ] 📝 完了報告を関係者に共有
```

### 3. チェックリスト自動化

#### 進捗確認スクリプト
```bash
#!/bin/bash
# scripts/check-task-progress.sh

TASK_ID=$1
if [ -z "$TASK_ID" ]; then
    echo "Usage: $0 TASK-XXX"
    exit 1
fi

echo "🔍 $TASK_ID の進捗確認"
echo "========================"

# TASKS.mdでのステータス確認
if grep -q "$TASK_ID.*IN_PROGRESS" TASKS.md; then
    echo "✅ TASKS.mdステータス: IN_PROGRESS"
else
    echo "❌ TASKS.mdステータス: 未更新または異常"
fi

# 関連ファイルの変更確認
echo ""
echo "📝 関連ファイルの変更:"
git status --porcelain | grep -E "\.(js|md|json)$" | head -10

# 最近のコミット
echo ""
echo "📈 最近のコミット:"
git log --oneline -5 | grep -i "$TASK_ID"

echo ""
echo "🎯 完了確認チェックリスト:"
echo "- [ ] 機能実装完了"
echo "- [ ] テスト追加・実行"
echo "- [ ] ドキュメント更新"
echo "- [ ] コードレビュー"
echo "- [ ] TASKS.mdステータス更新"
```

## 🎨 Visual Progress Indicators

### 進捗バー表示
```
📊 進捗状況
===========================================
調査    ████████████████████████████████ 100%
設計    ████████████████████████░░░░░░░░  80%
実装    ████████████░░░░░░░░░░░░░░░░░░░░░  40%
テスト  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0%
品質保証 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0%
===========================================
全体進捗: 44% (5日間の作業のうち2.2日完了)
```

### マイルストーン表示
```
🏁 マイルストーン
========================
✅ M1: 要件分析完了     (Day 1)
✅ M2: 設計完了         (Day 2)
🚧 M3: 実装完了         (Day 4) ← 現在ここ
⏸️ M4: テスト完了       (Day 5)
⏸️ M5: リリース準備完了  (Day 6)
```

## 🔗 システム連携

### TASKS.mdとの連携
```markdown
- [x] 🚧 **[TASK-001]** Advanced Layout Engine
  - **Assignee**: Claude AI
  - **Worktree**: feature/task-001-layout-engine
  - **Progress**: 44% (実装フェーズ)
  - **Last Updated**: 2025-01-11 15:30
  - **Next Milestone**: M3: 実装完了 (予定: 2025-01-13)
```

### Git Worktreeとの連携
```bash
# Worktree作成時に進捗トラッキングファイル自動生成
git worktree add -b feature/task-001-layout ../task-001-layout
echo "## 🚧 [TASK-001] 開発セッション開始 $(date)" > ../task-001-layout/PROGRESS.md
```

## 📱 Claude Code統合

### TodoWriteツール活用
```markdown
# Claude Codeセッション開始時
TodoWrite: [
  {"content": "TASK-001: 調査フェーズ完了", "status": "completed", "priority": "high"},
  {"content": "TASK-001: 設計フェーズ完了", "status": "completed", "priority": "high"},
  {"content": "TASK-001: コア機能実装", "status": "in_progress", "priority": "high"},
  {"content": "TASK-001: エラーハンドリング実装", "status": "pending", "priority": "medium"},
  {"content": "TASK-001: テスト作成", "status": "pending", "priority": "high"}
]
```

### 定期的な進捗更新
```markdown
# 30分ごとに自動表示
---
⏰ **進捗チェックポイント** (15:30)

📊 **現在の状況**
- 作業中: コア機能実装 (70%完了)
- 次の作業: エラーハンドリング実装
- 全体進捗: 44%

🎯 **完了確認**
- [ ] ✅ コア機能実装を完了したらTODOリスト更新
- [ ] 📝 実装完了後にテスト作成を開始
- [ ] 🔄 TASKS.mdの進捗率を更新

📋 **重要な確認事項**
- [ ] 新しい依存関係は追加されていないか？
- [ ] エラーハンドリングは適切に実装されているか？
- [ ] パフォーマンスへの影響は考慮されているか？
---
```

## 🎉 完了時の自動確認

### タスク完了チェックリスト
```markdown
## 🎯 [TASK-XXX] 完了確認チェックリスト

### ✅ 必須項目
- [ ] **機能実装完了**: すべての要件を満たしている
- [ ] **テスト完了**: ユニット・統合テストが通過
- [ ] **品質確認**: lint、build、security checkが通過
- [ ] **ドキュメント**: README、API仕様、コメントが更新
- [ ] **TASKS.md更新**: ステータスをDONEに変更

### 📋 推奨項目  
- [ ] **パフォーマンス**: 性能劣化がないことを確認
- [ ] **セキュリティ**: 脆弱性スキャン実施
- [ ] **互換性**: 既存機能への影響確認
- [ ] **ユーザビリティ**: 使いやすさの確認

### 🧹 クリーンアップ
- [ ] **Worktree削除**: 不要なworktreeを削除
- [ ] **ブランチクリーンアップ**: マージ済みブランチを削除
- [ ] **テンポラリファイル削除**: 作業中ファイルを削除

---
**🔔 最終確認**
上記のすべての項目が完了したら、TASKS.mdで該当タスクを✅DONEに変更してください。
```

このシステムにより、Claude Code開発時に常に進捗が見える化され、タスクの取りこぼしを防げます。